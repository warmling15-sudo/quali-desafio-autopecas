<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>QualiDesafio Autope√ßas ‚Äî Miss√£o Zero Retrabalho</title>
  <style>
    :root {
      --bg: #0b1020;
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --good: #38f2b3;
      --bad: #ff5e7a;
      --accent: #7aa7ff;
      --warning: #ffd166;
      --shadow: 0 20px 60px rgba(0,0,0,.35);
      --radius: 22px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: radial-gradient(1200px 700px at 20% 10%, rgba(122,167,255,.18), transparent 55%),
                  radial-gradient(900px 600px at 85% 30%, rgba(56,242,179,.14), transparent 60%),
                  radial-gradient(900px 600px at 40% 95%, rgba(255,94,122,.12), transparent 60%),
                  var(--bg);
      color: var(--txt);
      font: 16px/1.35 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 18px;
    }
    .wrap { width: min(980px, 100%); }
    .top {
      display:flex; gap:14px; align-items:flex-start; justify-content:space-between;
      margin-bottom: 14px;
    }
    .brand {
      padding: 14px 16px;
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.10);
    }
    .brand h1 { font-size: 22px; margin: 0 0 4px; letter-spacing: .2px; }
    .brand p { margin: 0; color: var(--muted); font-size: 13px; }
    .pill {
      display:inline-flex; gap:8px; align-items:center;
      padding: 10px 12px; border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--muted);
      font-size: 13px;
      height: fit-content;
      white-space: nowrap;
    }
    .grid {
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
    }
    @media (max-width: 860px) {
      .grid { grid-template-columns: 1fr; }
      .pill { display:none; }
    }
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
    }
    .progress {
      height: 10px;
      background: rgba(255,255,255,.10);
      border-radius: 999px;
      overflow:hidden;
      margin: 10px 0 0;
    }
    .bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, rgba(122,167,255,1), rgba(56,242,179,1));
      border-radius: 999px;
      transition: width .25s ease;
    }
    .qmeta {
      display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between;
      margin-bottom: 10px;
    }
    .tag {
      display:inline-flex; gap:8px; align-items:center;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--muted);
      font-size: 12px;
    }
    .timer {
      font-variant-numeric: tabular-nums;
      color: var(--warning);
      font-weight: 600;
    }
    .question {
      font-size: 22px;
      margin: 6px 0 14px;
      letter-spacing: .2px;
    }
    .choices { display:grid; gap: 10px; }
    button.choice {
      text-align:left;
      width: 100%;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.07);
      color: var(--txt);
      cursor:pointer;
      transition: transform .06s ease, background .2s ease, border-color .2s ease;
      font-size: 16px;
    }
    button.choice:hover {
      background: rgba(255,255,255,.10);
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.18);
    }
    button.choice:disabled { cursor: default; opacity: .92; }
    .good { border-color: rgba(56,242,179,.65) !important; background: rgba(56,242,179,.12) !important; }
    .bad { border-color: rgba(255,94,122,.65) !important; background: rgba(255,94,122,.12) !important; }

    .panel {
      margin-top: 12px;
      padding: 12px 14px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      display:none;
    }
    .panel h3 { margin: 0 0 6px; font-size: 16px; }
    .panel p { margin: 6px 0; color: var(--muted); }

    .actions { display:flex; flex-wrap:wrap; gap:10px; margin-top: 14px; }
    .btn {
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: var(--txt);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
      transition: transform .06s ease, background .2s ease, border-color .2s ease;
      font-weight: 600;
    }
    .btn:hover { background: rgba(255,255,255,.12); transform: translateY(-1px); border-color: rgba(255,255,255,.18); }
    .btn.primary {
      background: linear-gradient(90deg, rgba(122,167,255,1), rgba(56,242,179,1));
      border: none;
      color: #081021;
    }
    .btn.primary:hover { filter: brightness(1.06); }

    .side h2 { margin: 0 0 10px; font-size: 16px; color: var(--muted); }
    .stat {
      display:flex; align-items:center; justify-content:space-between;
      padding: 10px 12px;
      border-radius: 16px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      margin-bottom: 10px;
    }
    .stat b { font-variant-numeric: tabular-nums; }
    .badge {
      display:inline-flex; align-items:center; gap:8px;
      padding: 10px 12px;
      border-radius: 16px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      margin: 6px 0;
      color: var(--muted);
    }
    .footer { margin-top: 12px; color: rgba(255,255,255,.55); font-size: 12px; }
    .tiny { font-size: 12px; color: rgba(255,255,255,.65); }
    .hidden { display:none !important; }

    .toast {
      position: fixed;
      left: 50%;
      bottom: 16px;
      transform: translateX(-50%);
      background: rgba(10,14,28,.95);
      border: 1px solid rgba(255,255,255,.14);
      color: var(--txt);
      padding: 10px 12px;
      border-radius: 14px;
      box-shadow: var(--shadow);
      display:none;
      max-width: min(560px, 92vw);
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <h1>üõ†Ô∏è QualiDesafio Autope√ßas ‚Äî Miss√£o Zero Retrabalho</h1>
        <p>Charadas r√°pidas ‚Ä¢ m√∫ltipla escolha ‚Ä¢ foco em BPF, rastreabilidade e Cliente (OEM)</p>
        <div class="progress" aria-label="Progresso"><div class="bar" id="bar"></div></div>
      </div>
      <div class="pill">üéØ Dica: se tiver d√∫vida ‚Üí <b style="color:var(--txt);">para e confirma</b></div>
    </div>

    <div class="grid">
      <div class="card main">
        <div class="qmeta">
          <div class="tag" id="moduleTag">üì¶ M√≥dulo</div>
          <div class="tag">‚úÖ Pontos: <b id="points">0</b></div>
          <div class="tag">üî• Combo: <b id="combo">0</b></div>
          <div class="tag timer">‚è±Ô∏è Tempo: <b id="time">0.0s</b></div>
        </div>

        <div id="startScreen">
          <div class="question">Pronto(a) para a miss√£o? üöÄ</div>
          <p style="color:var(--muted); margin-top:0;">
            40 perguntas r√°pidas de autope√ßas. Responda sem pressa, mas com aten√ß√£o.<br/>
            Acertou r√°pido? Ganha b√¥nus! ‚≠ê
          </p>
          <div class="actions">
            <button class="btn primary" id="btnStart">Come√ßar</button>
            <button class="btn" id="btnShuffle">Embaralhar perguntas</button>
            <button class="btn" id="btnMode">Modo: <span id="modeLabel">Treino</span></button>
          </div>
          <p class="tiny">Modo Treino: sem press√£o. Modo Desafio: 12s por pergunta.</p>
        </div>

        <div id="quizScreen" class="hidden">
          <div class="question" id="qtext">Pergunta</div>
          <div class="choices" id="choices"></div>

          <div class="panel" id="panel">
            <h3 id="resultTitle">‚úÖ Certo!</h3>
            <p><b>Por qu√™:</b> <span id="why"></span></p>
            <p><b>Dica:</b> <span id="tip"></span></p>
          </div>

          <div class="actions">
            <button class="btn primary" id="btnNext" disabled>Pr√≥xima</button>
            <button class="btn" id="btnRestart">Reiniciar</button>
          </div>
        </div>

        <div id="endScreen" class="hidden">
          <div class="question">Fim da miss√£o! üéâ</div>
          <p style="color:var(--muted); margin-top:0;">
            Sua pontua√ß√£o final: <b id="finalPoints"></b> ‚Ä¢ Acertos: <b id="finalHits"></b>/40
          </p>

          <div id="badges"></div>

          <div class="actions">
            <button class="btn primary" id="btnCopy">Copiar texto para postar no LinkedIn</button>
            <button class="btn" id="btnDownload">Baixar resultado (TXT)</button>
            <button class="btn" id="btnPlayAgain">Jogar de novo</button>
          </div>

          <p class="footer">Dica: publique este arquivo em um site (GitHub Pages / Netlify) para virar um link p√∫blico.</p>
        </div>
      </div>

      <div class="card side">
        <h2>üìä Placar</h2>
        <div class="stat"><span>Quest√£o</span><b id="idx">0</b></div>
        <div class="stat"><span>Acertos</span><b id="hits">0</b></div>
        <div class="stat"><span>Erros</span><b id="miss">0</b></div>
        <div class="stat"><span>Melhor combo</span><b id="bestCombo">0</b></div>

        <h2 style="margin-top:14px;">üèÖ Conquistas</h2>
        <div class="badge">üßº Anti-Contamina√ß√£o: 8+ acertos no M√≥dulo 1</div>
        <div class="badge">üè∑Ô∏è Mestre do Lote: 8+ acertos no M√≥dulo 2</div>
        <div class="badge">üîß Torque Certo: 8+ acertos no M√≥dulo 3</div>
        <div class="badge">üöö Cliente em 1¬∫ Lugar: 8+ acertos no M√≥dulo 4</div>

        <p class="footer">‚ö†Ô∏è Educativo. Siga sempre as regras e padr√µes oficiais da sua f√°brica.</p>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    const DATA = {"title": "QualiDesafio Autope√ßas ‚Äî Miss√£o Zero Retrabalho", "subtitle": "Charadas r√°pidas ‚Ä¢ m√∫ltipla escolha ‚Ä¢ foco em BPF, rastreabilidade e Cliente (OEM)", "questions": [{"module": "M√≥dulo 1 ‚Äî Limpeza, Contamina√ß√£o e FOD", "q": "Charada: n√£o sou pe√ßa, mas se eu cair no produto, viro dor de cabe√ßa no cliente. Quem sou eu?", "choices": ["A) Parafuso solto (FOD)", "B) Sorriso", "C) M√∫sica", "D) Caf√©"], "a": 0, "why": "Parafuso/objeto estranho pode travar montagem e gerar devolu√ß√£o.", "tip": "Mantenha bolsos fechados e fa√ßa varredura da bancada."}, {"module": "M√≥dulo 1 ‚Äî Limpeza, Contamina√ß√£o e FOD", "q": "Achou cavaco/limalha em cima da pe√ßa. O correto √©‚Ä¶", "choices": ["A) Soprar com a boca e seguir", "B) Limpar conforme padr√£o e separar se necess√°rio", "C) Fingir que n√£o viu", "D) Passar a m√£o e montar"], "a": 1, "why": "Cavaco pode causar vazamento, risco de quebra e reclama√ß√£o.", "tip": "Use ar/escova/limpeza conforme instru√ß√£o e EPC/EPIs."}, {"module": "M√≥dulo 1 ‚Äî Limpeza, Contamina√ß√£o e FOD", "q": "√ìleo/graxa na √°rea onde deveria estar ‚Äúlimpo‚Äù √©‚Ä¶", "choices": ["A) Normal", "B) Um risco de contamina√ß√£o", "C) Um b√¥nus", "D) Sinal de produtividade"], "a": 1, "why": "Contamina√ß√£o pode afetar ader√™ncia, veda√ß√£o e inspe√ß√£o.", "tip": "Siga a regra de zonas: sujo x limpo."}, {"module": "M√≥dulo 1 ‚Äî Limpeza, Contamina√ß√£o e FOD", "q": "Luvas rasgadas na montagem de componente cr√≠tico‚Ä¶", "choices": ["A) D√° pra terminar o turno", "B) Troca na hora", "C) S√≥ troca se o supervisor ver", "D) Usa fita para remendar"], "a": 1, "why": "Luva rasgada aumenta risco de contamina√ß√£o e dano √† pe√ßa.", "tip": "Luva √© barreira: rasgou = trocou."}, {"module": "M√≥dulo 1 ‚Äî Limpeza, Contamina√ß√£o e FOD", "q": "Celular na bancada e m√£o na pe√ßa: isso vira‚Ä¶", "choices": ["A) Agilidade", "B) Risco de sujeira e erro", "C) Inspe√ß√£o extra", "D) Nada demais"], "a": 1, "why": "Celular traz sujeira e distrai, aumentando falha humana.", "tip": "Se precisar usar, pare, higienize e volte ao padr√£o."}, {"module": "M√≥dulo 1 ‚Äî Limpeza, Contamina√ß√£o e FOD", "q": "Pano sujo para ‚Äúlimpar‚Äù pe√ßa √©‚Ä¶", "choices": ["A) Economia", "B) Contamina√ß√£o na certa", "C) Melhor que nada", "D) Regra do 5S"], "a": 1, "why": "Pano sujo espalha sujeira e pode riscar superf√≠cies.", "tip": "Use material de limpeza aprovado e identificado."}, {"module": "M√≥dulo 1 ‚Äî Limpeza, Contamina√ß√£o e FOD", "q": "Uma pe√ßa caiu no ch√£o. A a√ß√£o correta √©‚Ä¶", "choices": ["A) Pegou, soprou e montou", "B) Separar e seguir a regra de queda/inspe√ß√£o", "C) Esconder para n√£o ‚Äúdar BO‚Äù", "D) Colocar no fim da caixa"], "a": 1, "why": "Queda pode causar dano invis√≠vel e virar falha no cliente.", "tip": "Pe√ßa com d√∫vida n√£o segue: separa e checa."}, {"module": "M√≥dulo 1 ‚Äî Limpeza, Contamina√ß√£o e FOD", "q": "A embalagem de retorno (caixa) est√° suja/rasgada. O que fazer?", "choices": ["A) Usar assim mesmo", "B) Trocar/recuperar conforme padr√£o e avisar", "C) Colocar fita por cima sem avisar", "D) Misturar com caixas boas"], "a": 1, "why": "Embalagem ruim pode contaminar e danificar produto no transporte.", "tip": "Embalagem tamb√©m √© qualidade para o cliente."}, {"module": "M√≥dulo 1 ‚Äî Limpeza, Contamina√ß√£o e FOD", "q": "Charada: eu n√£o apare√ßo na pe√ßa, mas meu sumi√ßo atrapalha o processo. Quem sou eu?", "choices": ["A) Tampa de prote√ß√£o", "B) Piada", "C) R√°dio", "D) Rel√≥gio"], "a": 0, "why": "Falta de prote√ß√£o pode gerar risco de dano/contamina√ß√£o.", "tip": "Se faltou prote√ß√£o, pare e regularize antes de seguir."}, {"module": "M√≥dulo 1 ‚Äî Limpeza, Contamina√ß√£o e FOD", "q": "Lixeira transbordando perto da linha‚Ä¶", "choices": ["A) Deixa pro pr√≥ximo turno", "B) Trocar e descartar correto", "C) Empurra com o p√©", "D) Coloca no ch√£o"], "a": 1, "why": "Ac√∫mulo de lixo aumenta sujeira, risco e bagun√ßa.", "tip": "5S √© preven√ß√£o de defeito."}, {"module": "M√≥dulo 2 ‚Äî Rastreabilidade, Etiqueta e Lote", "q": "Etiqueta ileg√≠vel/rasgada na caixa. O certo √©‚Ä¶", "choices": ["A) Chutar qual √©", "B) Parar e pedir etiqueta correta", "C) Misturar com outra caixa", "D) Seguir e avisar depois"], "a": 1, "why": "Sem etiqueta correta, perde rastreabilidade e aumenta risco de envio errado.", "tip": "Sem identifica√ß√£o = sem uso."}, {"module": "M√≥dulo 2 ‚Äî Rastreabilidade, Etiqueta e Lote", "q": "Misturar lotes diferentes no mesmo pallet sem controle pode‚Ä¶", "choices": ["A) Ajudar a produ√ß√£o", "B) Quebrar rastreabilidade", "C) Melhorar qualidade", "D) N√£o muda nada"], "a": 1, "why": "Se der problema, n√£o d√° pra saber qual lote afetou o cliente.", "tip": "Lote separado e identificado sempre."}, {"module": "M√≥dulo 2 ‚Äî Rastreabilidade, Etiqueta e Lote", "q": "Charada: eu sou um n√∫mero que salva a empresa quando d√° problema no cliente. Quem sou eu?", "choices": ["A) Lote/Serial", "B) N√∫mero da sorte", "C) Placa do carro", "D) CEP"], "a": 0, "why": "Lote/serial permite rastrear e agir r√°pido (menos custo e risco).", "tip": "Nunca pule registro de lote/serial."}, {"module": "M√≥dulo 2 ‚Äî Rastreabilidade, Etiqueta e Lote", "q": "Caixa com Part Number (c√≥digo) diferente do que voc√™ precisa. O que fazer?", "choices": ["A) Usar assim mesmo", "B) Conferir com supervisor/qualidade e separar", "C) Riscar e escrever por cima", "D) Misturar para ‚Äún√£o faltar‚Äù"], "a": 1, "why": "PN errado vira pe√ßa errada no cliente: devolu√ß√£o e parada de linha.", "tip": "C√≥digo manda. Se divergiu, n√£o use."}, {"module": "M√≥dulo 2 ‚Äî Rastreabilidade, Etiqueta e Lote", "q": "Voc√™ pegou pe√ßa boa e colocou em caixa de refugo sem querer. Melhor atitude?", "choices": ["A) Deixar assim", "B) Corrigir imediatamente e avisar", "C) Jogar fora para n√£o confundir", "D) Esconder"], "a": 1, "why": "Mistura bom/ruim gera erro e retrabalho.", "tip": "Bom e ruim sempre separados e identificados."}, {"module": "M√≥dulo 2 ‚Äî Rastreabilidade, Etiqueta e Lote", "q": "Dois materiais parecidos, cores iguais. Como evitar troca?", "choices": ["A) Pela mem√≥ria", "B) Conferir etiqueta/PN e local padr√£o", "C) Pelo ‚Äúfeeling‚Äù", "D) Pelo peso na m√£o"], "a": 1, "why": "Confer√™ncia objetiva reduz erro humano.", "tip": "Regra: etiqueta primeiro, depois pega."}, {"module": "M√≥dulo 2 ‚Äî Rastreabilidade, Etiqueta e Lote", "q": "Registrar produ√ß√£o com n√∫mero errado √©‚Ä¶", "choices": ["A) Pequeno detalhe", "B) Pode virar problem√£o no cliente", "C) Normal", "D) Melhor que n√£o registrar"], "a": 1, "why": "Registro errado atrapalha rastreio, an√°lise e a√ß√µes de conten√ß√£o.", "tip": "Antes de salvar, confira 2 vezes."}, {"module": "M√≥dulo 2 ‚Äî Rastreabilidade, Etiqueta e Lote", "q": "Re-trabalho feito, mas sem registro. Isso √©‚Ä¶", "choices": ["A) Ok", "B) Risco: perde hist√≥rico e controle", "C) Ajuda a meta", "D) S√≥ burocracia"], "a": 1, "why": "Sem registro, n√£o h√° controle do que foi mexido na pe√ßa.", "tip": "Retrabalho sempre com identifica√ß√£o e aprova√ß√£o."}, {"module": "M√≥dulo 2 ‚Äî Rastreabilidade, Etiqueta e Lote", "q": "Charada: eu n√£o sou defeito, mas se eu faltar, o defeito aparece depois. Quem sou eu?", "choices": ["A) Check/inspe√ß√£o do processo", "B) Caf√©", "C) M√∫sica", "D) Pressa"], "a": 0, "why": "Check do processo pega erro antes de seguir adiante.", "tip": "Check curto e bem feito economiza retrabalho."}, {"module": "M√≥dulo 2 ‚Äî Rastreabilidade, Etiqueta e Lote", "q": "Voc√™ encontrou uma caixa sem tampa, aberta, com risco de sujeira. O correto √©‚Ä¶", "choices": ["A) Usar logo para n√£o perder tempo", "B) Proteger, identificar e avisar", "C) Colocar embaixo da bancada", "D) Passar para o pr√≥ximo setor"], "a": 1, "why": "Material exposto pode contaminar e gerar defeito.", "tip": "Prote√ß√£o e identifica√ß√£o s√£o parte do padr√£o."}, {"module": "M√≥dulo 3 ‚Äî Padr√£o, Medi√ß√£o, Torque e Ferramentas", "q": "Charada: eu aperto do jeito certo. Se eu errar, o cliente sente. Quem sou eu?", "choices": ["A) Torque", "B) Sorte", "C) Pressa", "D) Palpite"], "a": 0, "why": "Torque errado pode causar vazamento, ru√≠do ou quebra.", "tip": "Use ferramenta calibrada e siga a instru√ß√£o."}, {"module": "M√≥dulo 3 ‚Äî Padr√£o, Medi√ß√£o, Torque e Ferramentas", "q": "Chave de torque com etiqueta vencida (calibra√ß√£o). O que fazer?", "choices": ["A) Usar assim mesmo", "B) Parar e pedir verifica√ß√£o/calibra√ß√£o", "C) Ajustar no olho", "D) Pedir pro colega ‚Äúapertar forte‚Äù"], "a": 1, "why": "Ferramenta fora de calibra√ß√£o mede/aperte errado.", "tip": "Etiqueta vencida = n√£o usar."}, {"module": "M√≥dulo 3 ‚Äî Padr√£o, Medi√ß√£o, Torque e Ferramentas", "q": "Voc√™ n√£o entendeu a instru√ß√£o de trabalho. Melhor atitude?", "choices": ["A) Fazer do seu jeito", "B) Perguntar e confirmar", "C) Copiar sem falar", "D) Deixar para depois"], "a": 1, "why": "Padr√£o garante pe√ßa igual sempre.", "tip": "D√∫vida √© sinal de cuidado, n√£o de fraqueza."}, {"module": "M√≥dulo 3 ‚Äî Padr√£o, Medi√ß√£o, Torque e Ferramentas", "q": "Gabarito/medidor caiu no ch√£o. O correto √©‚Ä¶", "choices": ["A) Usar normal", "B) Avisar e checar antes de usar", "C) Bater para ‚Äòvoltar‚Äô", "D) Guardar e esquecer"], "a": 1, "why": "Queda pode alterar medi√ß√£o e gerar falso OK.", "tip": "Instrumento √© sagrado: queda = checagem."}, {"module": "M√≥dulo 3 ‚Äî Padr√£o, Medi√ß√£o, Torque e Ferramentas", "q": "Rebarba (burr) em pe√ßa usinada‚Ä¶", "choices": ["A) N√£o importa", "B) Pode cortar veda√ß√£o e causar falha", "C) √â sinal de qualidade", "D) Ajuda na montagem"], "a": 1, "why": "Rebarba pode travar montagem e gerar vazamento.", "tip": "Siga o padr√£o de rebarba: remove ou separa."}, {"module": "M√≥dulo 3 ‚Äî Padr√£o, Medi√ß√£o, Torque e Ferramentas", "q": "Atalho para ‚Äúganhar tempo‚Äù geralmente‚Ä¶", "choices": ["A) Melhora qualidade", "B) Aumenta risco de erro", "C) √â exigido", "D) √â padr√£o"], "a": 1, "why": "Atalho cria varia√ß√£o e defeito.", "tip": "Velocidade boa √© a que mant√©m padr√£o."}, {"module": "M√≥dulo 3 ‚Äî Padr√£o, Medi√ß√£o, Torque e Ferramentas", "q": "Voc√™ viu pe√ßa com risco/arranh√£o em √°rea cr√≠tica. O correto √©‚Ä¶", "choices": ["A) Montar e torcer", "B) Separar e seguir crit√©rio de aceita√ß√£o", "C) Esconder no meio", "D) Passar pano e pronto"], "a": 1, "why": "Dano em √°rea cr√≠tica pode falhar no uso.", "tip": "Crit√©rio manda: OK, retrabalho ou refugo."}, {"module": "M√≥dulo 3 ‚Äî Padr√£o, Medi√ß√£o, Torque e Ferramentas", "q": "Re-trabalho sem aprova√ß√£o (\"s√≥ uma lixadinha\") √©‚Ä¶", "choices": ["A) Esperteza", "B) Risco grande de piorar a pe√ßa", "C) Qualidade", "D) Economia"], "a": 1, "why": "Pode tirar material demais e sair de medida.", "tip": "Retrabalho s√≥ com padr√£o e autoriza√ß√£o."}, {"module": "M√≥dulo 3 ‚Äî Padr√£o, Medi√ß√£o, Torque e Ferramentas", "q": "Medi√ß√£o feita ‚Äúno olho‚Äù quando existe gabarito‚Ä¶", "choices": ["A) √â normal", "B) Aumenta chance de passar defeito", "C) √â mais moderno", "D) √â igual"], "a": 1, "why": "Olho n√£o substitui medi√ß√£o quando a toler√¢ncia √© pequena.", "tip": "Se existe ferramenta, use."}, {"module": "M√≥dulo 3 ‚Äî Padr√£o, Medi√ß√£o, Torque e Ferramentas", "q": "Charada: eu sou o ‚Äòjeito certo‚Äô que evita discuss√£o. Quem sou eu?", "choices": ["A) Padr√£o/Procedimento", "B) Jeitinho", "C) Pressa", "D) Opini√£o"], "a": 0, "why": "Padr√£o garante repetibilidade e qualidade.", "tip": "Quando mudar, muda o padr√£o (n√£o o improviso)."}, {"module": "M√≥dulo 4 ‚Äî Cliente (OEM), Cultura e Comunica√ß√£o", "q": "Defeito no cliente pode virar‚Ä¶", "choices": ["A) S√≥ uma bronca", "B) Parada de linha, devolu√ß√£o e perda de confian√ßa", "C) Um elogio", "D) Nada"], "a": 1, "why": "Em autope√ßas, defeito pode parar montagem do OEM e custar caro.", "tip": "Pense: ‚Äòeu colocaria isso no meu carro?‚Äô"}, {"module": "M√≥dulo 4 ‚Äî Cliente (OEM), Cultura e Comunica√ß√£o", "q": "Voc√™ viu um problema repetindo. A melhor a√ß√£o √©‚Ä¶", "choices": ["A) Continuar para bater meta", "B) Avisar e acionar conten√ß√£o conforme regra", "C) Guardar para o fim do turno", "D) Ficar quieto"], "a": 1, "why": "Quanto antes conter, menor o impacto no cliente.", "tip": "Pare, sinalize, chame ajuda (l√≠der/qualidade)."}, {"module": "M√≥dulo 4 ‚Äî Cliente (OEM), Cultura e Comunica√ß√£o", "q": "Charada: eu n√£o produzo, mas salvo o cliente. Quem sou eu?", "choices": ["A) Qualidade/Inspe√ß√£o no processo", "B) Pressa", "C) Atalho", "D) Sorte"], "a": 0, "why": "Controle no processo evita defeito chegar na expedi√ß√£o.", "tip": "Qualidade √© de todo mundo, n√£o s√≥ do inspetor."}, {"module": "M√≥dulo 4 ‚Äî Cliente (OEM), Cultura e Comunica√ß√£o", "q": "Se voc√™ n√£o tem certeza se est√° OK, o certo √©‚Ä¶", "choices": ["A) Mandar assim mesmo", "B) Separar e confirmar", "C) Esconder", "D) Passar para o outro setor"], "a": 1, "why": "D√∫vida √© risco de defeito no cliente.", "tip": "Regra: d√∫vida = n√£o segue."}, {"module": "M√≥dulo 4 ‚Äî Cliente (OEM), Cultura e Comunica√ß√£o", "q": "Tag de n√£o conformidade (produto suspeito) serve para‚Ä¶", "choices": ["A) Enfeitar", "B) Impedir uso e avisar todo mundo", "C) Atrapalhar", "D) S√≥ para auditoria"], "a": 1, "why": "Sinaliza bloqueio e evita mistura com material OK.", "tip": "Sem tag/sem bloqueio = risco de envio errado."}, {"module": "M√≥dulo 4 ‚Äî Cliente (OEM), Cultura e Comunica√ß√£o", "q": "Voc√™ percebeu que o padr√£o mudou, mas ningu√©m avisou. O que fazer?", "choices": ["A) Continuar no antigo", "B) Parar e pedir confirma√ß√£o/atualiza√ß√£o", "C) Inventar um meio termo", "D) Perguntar s√≥ no fim do dia"], "a": 1, "why": "Vers√£o errada pode gerar lote inteiro fora do combinado.", "tip": "Trabalho padronizado precisa de comunica√ß√£o r√°pida."}, {"module": "M√≥dulo 4 ‚Äî Cliente (OEM), Cultura e Comunica√ß√£o", "q": "Quando a empresa recebe reclama√ß√£o do cliente, o ch√£o de f√°brica tem papel?", "choices": ["A) N√£o, √© s√≥ do escrit√≥rio", "B) Sim, porque o cuidado come√ßa aqui", "C) S√≥ do vendedor", "D) S√≥ do engenheiro"], "a": 1, "why": "Qualidade nasce no processo: preven√ß√£o √© na linha.", "tip": "Cada operador √© ‚Äòdono‚Äô da qualidade da pe√ßa."}, {"module": "M√≥dulo 4 ‚Äî Cliente (OEM), Cultura e Comunica√ß√£o", "q": "Charada: eu sou pequeno, mas se eu passar, viro recall. Quem sou eu?", "choices": ["A) Defeito", "B) Brincadeira", "C) Caf√©", "D) M√∫sica"], "a": 0, "why": "Defeito em autope√ßas pode escalar e gerar risco e alto custo.", "tip": "Zero defeito come√ßa no detalhe."}, {"module": "M√≥dulo 4 ‚Äî Cliente (OEM), Cultura e Comunica√ß√£o", "q": "Se algu√©m errou, a melhor cultura √©‚Ä¶", "choices": ["A) Ca√ßa √†s bruxas", "B) Corrigir o processo e ensinar", "C) Fingir que n√£o aconteceu", "D) Culpar o turno"], "a": 1, "why": "Cultura justa reduz repeti√ß√£o do erro e melhora seguran√ßa.", "tip": "Foco em causa e padr√£o, n√£o em culpa."}, {"module": "M√≥dulo 4 ‚Äî Cliente (OEM), Cultura e Comunica√ß√£o", "q": "Qualidade n√£o √© s√≥ ‚Äòinspe√ß√£o final‚Äô. √â‚Ä¶", "choices": ["A) Cuidar desde o come√ßo", "B) S√≥ olhar no fim", "C) S√≥ assinar papel", "D) S√≥ auditoria"], "a": 0, "why": "Preven√ß√£o no processo √© mais barata e eficaz.", "tip": "Fa√ßa certo na primeira vez."}]};

    let mode = "train"; // train | challenge
    let limitSeconds = 12.0;

    let qs = [];
    let i = 0;
    let points = 0;
    let hits = 0;
    let miss = 0;
    let combo = 0;
    let bestCombo = 0;
    let startedAt = 0;
    let tick = null;

    const perModule = {}; // name -> {hits, total}

    const $ = (id) => document.getElementById(id);

    function toast(msg) {
      const el = $("toast");
      el.textContent = msg;
      el.style.display = "block";
      clearTimeout(el._t);
      el._t = setTimeout(() => (el.style.display = "none"), 1800);
    }

    function formatTime(s) {
      return (Math.round(s*10)/10).toFixed(1) + "s";
    }

    function setScreens(which) {
      $("startScreen").classList.add("hidden");
      $("quizScreen").classList.add("hidden");
      $("endScreen").classList.add("hidden");
      $(which).classList.remove("hidden");
    }

    function stopTimer() {
      if (tick) { clearInterval(tick); tick = null; }
    }

    function resetAll() {
      i = 0; points = 0; hits = 0; miss = 0; combo = 0; bestCombo = 0;
      for (const k of Object.keys(perModule)) delete perModule[k];
      $("points").textContent = points;
      $("hits").textContent = hits;
      $("miss").textContent = miss;
      $("combo").textContent = combo;
      $("bestCombo").textContent = bestCombo;
      $("idx").textContent = 0;
      $("bar").style.width = "0%";
      $("time").textContent = "0.0s";
      $("panel").style.display = "none";
      $("btnNext").disabled = true;
      setScreens("startScreen");
      stopTimer();
    }

    function shuffle(array) {
      for (let j = array.length - 1; j > 0; j--) {
        const k = Math.floor(Math.random() * (j + 1));
        [array[j], array[k]] = [array[k], array[j]];
      }
      return array;
    }

    function startTimer() {
      stopTimer();
      startedAt = performance.now();
      tick = setInterval(() => {
        const elapsed = (performance.now() - startedAt)/1000;
        $("time").textContent = formatTime(elapsed);
        if (mode === "challenge" && elapsed >= limitSeconds) {
          stopTimer();
          lockChoices(null, true);
          showPanel(false, "Tempo esgotado!");
        }
      }, 80);
    }

    function startQuiz() {
      qs = JSON.parse(JSON.stringify(DATA.questions));

      // module counters
      qs.forEach(q => {
        if (!perModule[q.module]) perModule[q.module] = {hits:0, total:0};
        perModule[q.module].total += 1;
      });

      setScreens("quizScreen");
      renderQ();
    }

    function updateProgress() {
      const pct = Math.min(100, Math.round((i/qs.length)*100));
      $("bar").style.width = pct + "%";
      $("idx").textContent = i + 1;
      $("points").textContent = points;
      $("hits").textContent = hits;
      $("miss").textContent = miss;
      $("combo").textContent = combo;
      $("bestCombo").textContent = bestCombo;
    }

    function lockChoices(chosenIdx, isAuto=false) {
      const q = qs[i];
      const buttons = Array.from(document.querySelectorAll("button.choice"));
      buttons.forEach((b, idx) => {
        b.disabled = true;
        if (idx === q.a) b.classList.add("good");
        if (!isAuto && chosenIdx === idx && idx !== q.a) b.classList.add("bad");
      });
    }

    function showPanel(correct, titleOverride=null) {
      const q = qs[i];
      $("panel").style.display = "block";
      const title = titleOverride ? titleOverride : (correct ? "‚úÖ Certo!" : "‚ùå Quase!");
      $("resultTitle").textContent = title;
      $("resultTitle").style.color = correct ? "var(--good)" : "var(--bad)";
      $("why").textContent = q.why;
      $("tip").textContent = q.tip;
      $("btnNext").disabled = false;
    }

    function renderQ() {
      $("panel").style.display = "none";
      $("btnNext").disabled = true;

      if (i >= qs.length) return endQuiz();

      const q = qs[i];
      $("moduleTag").textContent = "üì¶ " + q.module;
      $("qtext").textContent = q.q;

      const list = $("choices");
      list.innerHTML = "";
      q.choices.forEach((c, idx) => {
        const b = document.createElement("button");
        b.className = "choice";
        b.textContent = c;
        b.addEventListener("click", () => answer(idx));
        list.appendChild(b);
      });

      updateProgress();
      startTimer();
    }

    function answer(choiceIdx) {
      stopTimer();
      const elapsed = (performance.now() - startedAt)/1000;
      const q = qs[i];
      const correct = choiceIdx === q.a;

      lockChoices(choiceIdx, false);

      if (correct) {
        hits += 1;
        perModule[q.module].hits += 1;
        combo += 1;
        if (combo > bestCombo) bestCombo = combo;

        points += 10;
        if (elapsed <= 5.0) points += 5;      // speed bonus
        if (combo > 0 && combo % 3 === 0) points += 10; // combo bonus

        showPanel(true);
      } else {
        miss += 1;
        combo = 0;
        showPanel(false);
      }

      updateProgress();
    }

    function endQuiz() {
      setScreens("endScreen");
      $("finalPoints").textContent = points;
      $("finalHits").textContent = hits;

      // badges
      const badges = [];
      const m1 = Object.keys(perModule).find(x => x.includes("M√≥dulo 1"));
      const m2 = Object.keys(perModule).find(x => x.includes("M√≥dulo 2"));
      const m3 = Object.keys(perModule).find(x => x.includes("M√≥dulo 3"));
      const m4 = Object.keys(perModule).find(x => x.includes("M√≥dulo 4"));

      function got(mod, need=8) {
        return perModule[mod] && perModule[mod].hits >= need;
      }

      if (got(m1)) badges.push("üßº Anti-Contamina√ß√£o");
      if (got(m2)) badges.push("üè∑Ô∏è Mestre do Lote");
      if (got(m3)) badges.push("üîß Torque Certo");
      if (got(m4)) badges.push("üöö Cliente em 1¬∫ Lugar");
      if (hits >= 34) badges.push("üèÜ N√≠vel Ouro (34+ acertos)");
      if (hits >= 28 && hits < 34) badges.push("ü•à N√≠vel Prata (28‚Äì33 acertos)");
      if (hits >= 22 && hits < 28) badges.push("ü•â N√≠vel Bronze (22‚Äì27 acertos)");

      const container = document.getElementById("badges");
      container.innerHTML = "";
      if (badges.length === 0) {
        container.innerHTML = "<p class='tiny'>Sem conquistas desta vez ‚Äî mas j√° valeu o treino! Joga de novo üòâ</p>";
      } else {
        badges.forEach(x => {
          const div = document.createElement("div");
          div.className = "badge";
          div.textContent = x;
          container.appendChild(div);
        });
      }

      const share =
`üõ†Ô∏è QualiDesafio Autope√ßas ‚Äî Miss√£o Zero Retrabalho

Acabei de jogar um quiz r√°pido sobre qualidade no ch√£o de f√°brica (BPF, rastreabilidade, torque, contamina√ß√£o e foco no cliente/OEM).

‚úÖ Minha pontua√ß√£o: ${points} | Acertos: ${hits}/40 | Melhor combo: ${bestCombo}

Se voc√™ trabalha com manufatura, testa tamb√©m e compartilha o resultado!

#Qualidade #Autope√ßas #Ch√£oDeF√°brica #BPF #Rastreabilidade #ZeroDefeitos`;

      document.getElementById("btnCopy").onclick = async () => {
        try {
          await navigator.clipboard.writeText(share);
          toast("Texto copiado! Cole no LinkedIn üòâ");
        } catch (e) {
          const ta = document.createElement("textarea");
          ta.value = share;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand("copy");
          ta.remove();
          toast("Texto copiado! (modo alternativo)");
        }
      };

      document.getElementById("btnDownload").onclick = () => {
        const lines = [
          DATA.title,
          DATA.subtitle,
          "",
          `Pontua√ß√£o: ${points}`,
          `Acertos: ${hits}/40`,
          `Erros: ${miss}`,
          `Melhor combo: ${bestCombo}`,
          "",
          "Resultado por m√≥dulo:",
        ];
        Object.keys(perModule).forEach(k => {
          lines.push(`- ${k}: ${perModule[k].hits}/${perModule[k].total}`);
        });
        const blob = new Blob([lines.join("\n")], {type: "text/plain;charset=utf-8"});
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "resultado-quali-desafio-autopecas.txt";
        document.body.appendChild(a);
        a.click();
        a.remove();
        URL.revokeObjectURL(url);
      };

      document.getElementById("btnPlayAgain").onclick = () => {
        resetAll();
        startQuiz();
      };
    }

    // Buttons
    document.getElementById("btnStart").addEventListener("click", () => startQuiz());
    document.getElementById("btnShuffle").addEventListener("click", () => {
      const copy = JSON.parse(JSON.stringify(DATA.questions));
      shuffle(copy);
      DATA.questions = copy;
      toast("Perguntas embaralhadas!");
    });
    document.getElementById("btnMode").addEventListener("click", () => {
      mode = (mode === "train") ? "challenge" : "train";
      document.getElementById("modeLabel").textContent = (mode === "train") ? "Treino" : "Desafio";
      toast(mode === "train" ? "Modo Treino: sem tempo limite" : "Modo Desafio: 12s por pergunta");
    });
    document.getElementById("btnNext").addEventListener("click", () => { i += 1; renderQ(); });
    document.getElementById("btnRestart").addEventListener("click", () => { resetAll(); startQuiz(); });

    // Init
    resetAll();
  </script>
</body>
</html>
